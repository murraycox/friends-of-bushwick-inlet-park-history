import{b as z,h,o as V,E as Z,q as j,H as J,v as K,w as Q,x as W,y as U,z as Y,a as m,A as y,U as X,c as p,B as k,C as x,D as g,F as ee,S as F,n as B,G,l as I,I as re,J as ae,m as H,K as se,L as ne,M as ie,N as M,O as fe,P as ue,Q as te,j as le,R as ce,T as _e,V as ve,W as be,X as de,Y as Ie}from"./DGs1lYU8.js";import{s as oe,g as Se}from"./DdUmUt6c.js";function Ae(e,a,[s,r]=[0,0]){h&&s===0&&V();var f=e,n=null,u=null,d=X,E=s>0?Z:0,l=!1;const A=(t,c=!0)=>{l=!0,b(c,t)},b=(t,c)=>{if(d===(d=t))return;let o=!1;if(h&&r!==-1){if(s===0){const _=j(f);_===J?r=0:_===K?r=1/0:(r=parseInt(_.substring(1)),r!==r&&(r=d?1/0:-1))}const P=r>s;!!d===P&&(f=Q(),W(f),U(!1),o=!0,r=-1)}d?(n?Y(n):c&&(n=m(()=>c(f))),u&&y(u,()=>{u=null})):(u?Y(u):c&&(u=m(()=>c(f,[s+1,r]))),n&&y(n,()=>{n=null})),o&&U(!0)};z(()=>{l=!1,a(A),l||b(null,null)},E),h&&(f=p)}function C(e,a){return e===a||(e==null?void 0:e[F])===a}function Re(e={},a,s,r){return k(()=>{var f,n;return x(()=>{f=n,n=(r==null?void 0:r())||[],g(()=>{e!==s(...n)&&(a(e,...n),f&&C(s(...f),e)&&a(null,...f))})}),()=>{ee(()=>{n&&C(s(...n),e)&&a(null,...n)})}}),e}let T=!1,D=Symbol();function Ne(e,a,s){const r=s[a]??(s[a]={store:null,source:G(void 0),unsubscribe:B});if(r.store!==e&&!(D in s))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=B;else{var f=!0;r.unsubscribe=oe(e,n=>{f?r.source.v=n:H(r.source,n)}),f=!1}return e&&D in s?Se(e):I(r.source)}function Oe(){const e={};function a(){re(()=>{for(var s in e)e[s].unsubscribe();ae(e,D,{enumerable:!1,value:!0})})}return[e,a]}function Ee(e){var a=T;try{return T=!1,[e(),T]}finally{T=a}}function w(e){var a;return((a=e.ctx)==null?void 0:a.d)??!1}function he(e,a,s,r){var q;var f=(s&de)!==0,n=!ve||(s&be)!==0,u=(s&ce)!==0,d=(s&Ie)!==0,E=!1,l;u?[l,E]=Ee(()=>e[a]):l=e[a];var A=F in e||_e in e,b=u&&(((q=se(e,a))==null?void 0:q.set)??(A&&a in e&&(i=>e[a]=i)))||void 0,t=r,c=!0,o=!1,P=()=>(o=!0,c&&(c=!1,d?t=g(r):t=r),t);l===void 0&&r!==void 0&&(b&&n&&ne(),l=P(),b&&b(l));var _;if(n)_=()=>{var i=e[a];return i===void 0?P():(c=!0,o=!1,i)};else{var L=(f?M:fe)(()=>e[a]);L.f|=ie,_=()=>{var i=I(L);return i!==void 0&&(t=void 0),i===void 0?t:i}}if(!(s&ue))return _;if(b){var $=e.$$legacy;return function(i,S){return arguments.length>0?((!n||!S||$||E)&&b(S?_():i),i):_()}}var R=!1,N=G(l),v=M(()=>{var i=_(),S=I(N);return R?(R=!1,S):N.v=i});return u&&I(v),f||(v.equals=te),function(i,S){if(arguments.length>0){const O=S?I(v):n&&u?le(i):i;if(!v.equals(O)){if(R=!0,H(N,O),o&&t!==void 0&&(t=O),w(v))return i;g(()=>I(v))}return i}return w(v)?v.v:I(v)}}export{Oe as a,Re as b,Ae as i,he as p,Ne as s};
