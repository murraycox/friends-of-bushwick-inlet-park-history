import{f as U,a as q}from"../chunks/DgqEAGrr.js";import{p as w,f as z,t as B,e as F,s as r,g as a,r as t,i as N}from"../chunks/DGs1lYU8.js";import{s as v}from"../chunks/CW4wzEu_.js";import{N as G,h as H,a as K,p as L,s as Q,b as R,c as f}from"../chunks/BPbNqUCS.js";import{s as V,a as X}from"../chunks/hk8xwm9n.js";import{s as S}from"../chunks/C1LetFUu.js";var Y=U('<!> <div id="story-container"><div id="story-narrative" class="svelte-155nrfv"><div id="story-context-container" class="svelte-155nrfv"><div id="era-short-label" class="svelte-155nrfv"> </div> <h1 class="svelte-155nrfv"> </h1></div> <!> <div id="story-footer-navigation" class="svelte-155nrfv"><div id="story-footer-navigation-back"><div id="story-footer-navigation-back-button" class="story-footer-navigation-button svelte-155nrfv"><div id="button-left" class="svelte-155nrfv"></div> </div></div> <div id="story-footer-navigation-next" class="svelte-155nrfv"><div id="story-footer-navigation-next-button" class="story-footer-navigation-button svelte-155nrfv"> <div id="button-right" class="svelte-155nrfv"></div></div></div></div></div> <div class="story-narrative-footer svelte-155nrfv"></div></div> <!>',1);function oa(D,i){w(i,!0);const[M,O]=X(),s=()=>V(L,"$page",M),p=S.eras[s().params.era],W=p.chapters[s().params.chapter];let e=null;const n=Object.values(p.chapters);n.forEach((C,k)=>{console.log(`chapter: ${JSON.stringify(C)}, index: ${k}`),C.id==W.id&&(e=k)}),console.log(`thisChapterIndexInStory: ${e}`);const h=e==0?null:n[e-1],m=e==n.length-1?null:n[e+1];var u=Y(),g=z(u);G(g,{navigateWithinMap:!1,get activeEraID(){return s().params.era}});var o=r(g,2),_=a(o),l=a(_),d=a(l),j=a(d,!0);t(d);var y=r(d,2),A=a(y,!0);t(y),t(l);var b=r(l,2);H(b,()=>i.data.chapter.content);var x=r(b,2),c=a(x),E=a(c),J=r(a(E),1,!0);t(E),t(c);var I=r(c,2),$=a(I),P=a($,!0);N(),t($),t(I),t(x),t(_),N(2),t(o);var T=r(o,2);K(T,{get eras(){return S.eras},navigateWithinMap:!1,get activeEraID(){return s().params.era}}),B(()=>{Q(o,1,`era-${s().params.era}`,"svelte-155nrfv"),R(o,`--color-era-urban-industrial: ${f.colorEraUrbanIndustrial}; --color-era-pre-1600s: ${f.colorEraPre1600s}; --color-era-early-european-settlement: ${f.colorEraEarlyEuropeanSettlement}`),v(j,i.data.chapter.era.name),v(A,i.data.chapter.name),v(J,h?h.name:"back to era map"),v(P,m?m.name:"back to next era map")}),q(D,u),F(),O()}export{oa as component};
